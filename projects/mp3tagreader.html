<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MP3 Tag Reader & Editor | C Project</title>

  <!-- MAIN SITE CSS -->
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    /* ================= PAGE LAYOUT ================= */
    .project-container {
      max-width: 1100px;
      margin: auto;
      padding: 140px 20px 90px;
    }

    /* ================= HERO ================= */
    .project-hero {
      background: linear-gradient(
        135deg,
        rgba(30,64,175,0.12),
        rgba(15,23,42,0.12)
      );
      border-radius: 26px;
      padding: 60px 40px;
      margin-bottom: 70px;
      text-align: center;
      box-shadow: 0 30px 65px rgba(0,0,0,0.15);
    }

    .project-hero h1 {
      font-size: 3rem;
      margin-bottom: 16px;
    }

    .project-hero p {
      max-width: 780px;
      margin: auto;
      font-size: 1.15rem;
      color: var(--text-muted);
      line-height: 1.8;
    }

    /* ================= SECTION CARD ================= */
    .section-card {
      background: var(--bg-card);
      border-radius: 22px;
      padding: 42px;
      margin-bottom: 60px;
      box-shadow: 0 18px 45px rgba(0,0,0,0.08);
    }

    .section-card h2 {
      font-size: 1.9rem;
      margin-bottom: 18px;
    }

    .section-card p {
      color: var(--text-muted);
      line-height: 1.8;
      margin-bottom: 18px;
    }

    /* ================= FEATURE GRID ================= */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-top: 30px;
    }

    .feature-card {
      background: var(--bg-soft);
      padding: 26px;
      border-radius: 18px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.12);
    }

    .feature-card h3 {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .feature-card h3 i {
      color: var(--accent);
    }

    /* ================= ID3 FRAME VISUALIZATION ================= */
    .frame-visual {
      background: var(--bg-soft);
      padding: 25px;
      border-radius: 14px;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      margin: 20px 0;
    }

    .frame-header {
      background: #1e40af;
      color: white;
      padding: 10px;
      border-radius: 6px;
      font-weight: bold;
    }

    .frame-content {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      margin-top: 15px;
    }

    .frame-byte {
      background: var(--bg-card);
      padding: 8px;
      border-radius: 4px;
      text-align: center;
      font-family: monospace;
      border: 1px solid rgba(0,0,0,0.1);
    }

    .byte-label {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    /* ================= CODE PREVIEW ================= */
    .code-preview {
      background: #0f172a;
      color: #e2e8f0;
      padding: 25px;
      border-radius: 14px;
      font-family: 'Courier New', monospace;
      font-size: 0.95rem;
      line-height: 1.6;
      overflow-x: auto;
      margin: 20px 0;
    }

    .code-comment {
      color: #64748b;
    }

    .code-keyword {
      color: #60a5fa;
    }

    .code-function {
      color: #34d399;
    }

    .code-string {
      color: #fbbf24;
    }

    .code-number {
      color: #f472b6;
    }

    /* ================= COMMAND TABLE ================= */
    .command-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    .command-table th {
      background: var(--bg-soft);
      padding: 14px;
      text-align: left;
      font-weight: 600;
    }

    .command-table td {
      padding: 14px;
      border-bottom: 1px solid rgba(0,0,0,0.06);
    }

    .command-table tr:hover {
      background: var(--bg-soft);
    }

    /* ================= FILE STRUCTURE ================= */
    .file-structure {
      background: var(--bg-soft);
      padding: 24px;
      border-radius: 14px;
      font-family: 'Courier New', monospace;
      font-size: 0.95rem;
    }

    .file-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 8px 0;
      padding: 8px 12px;
      background: var(--bg-card);
      border-radius: 8px;
    }

    .file-item i {
      color: var(--accent);
    }

    /* ================= TECH TAGS ================= */
    .tech-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 20px;
    }

    .tech-tags span {
      background: rgba(30,64,175,0.15);
      color: var(--accent);
      padding: 8px 14px;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 500;
    }

    /* ================= TERMINAL OUTPUT ================= */
    .terminal-output {
      background: #0f172a;
      color: #e2e8f0;
      padding: 25px;
      border-radius: 14px;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
      overflow-x: auto;
      margin: 20px 0;
    }

    .terminal-prompt {
      color: #4ade80;
    }

    .terminal-command {
      color: #60a5fa;
    }

    .terminal-output {
      color: #e2e8f0;
    }

    /* ================= LINKS ================= */
    .project-links {
      margin-top: 28px;
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .github-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: var(--accent);
      color: #fff;
      padding: 14px 22px;
      border-radius: 14px;
      text-decoration: none;
      font-weight: 500;
      transition: transform 0.2s ease, background 0.3s ease;
    }

    .github-btn:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
    }

    .demo-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: var(--bg-soft);
      color: var(--text-main);
      padding: 14px 22px;
      border-radius: 14px;
      text-decoration: none;
      font-weight: 500;
      transition: transform 0.2s ease, background 0.3s ease;
    }

    .demo-btn:hover {
      background: var(--bg-card);
      transform: translateY(-2px);
    }

    /* ================= ID3 TAG STRUCTURE ================= */
    .tag-structure {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin: 20px 0;
      justify-content: center;
    }

    .tag-box {
      background: var(--bg-soft);
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      min-width: 120px;
    }

    .tag-box strong {
      display: block;
      color: var(--accent);
      margin-bottom: 5px;
    }

    /* ================= MP3 FILE STRUCTURE ================= */
    .mp3-structure {
      background: var(--bg-soft);
      padding: 20px;
      border-radius: 14px;
      margin: 20px 0;
    }

    .structure-level {
      margin-left: 20px;
      margin-top: 10px;
    }

    .structure-item {
      margin: 5px 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* ================= MOBILE RESPONSIVE ================= */
    @media (max-width: 768px) {
      .frame-content {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .command-table {
        display: block;
        overflow-x: auto;
      }
      
      .tag-structure {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>

<body>

<!-- ================= HEADER ================= -->
<header>
  <div class="nav-container">
    <div class="logo">Krishna's Portfolio</div>
    <nav>
      <ul>
        <li><a href="../index.html#projects">‚Üê Back to Projects</a></li>
      </ul>
    </nav>
  </div>
</header>

<!-- ================= MAIN ================= -->
<main class="project-container">

  <!-- HERO -->
  <section class="project-hero">
    <h1>MP3 Tag Reader & Editor</h1>
    <p>
      A pure C command-line application for reading, displaying, and editing ID3v2 metadata in MP3 files.
      Direct binary file parsing, byte manipulation, and structured data handling.
    </p>
  </section>

  <!-- OVERVIEW -->
  <section class="section-card">
    <h2>Project Overview</h2>
    <div class="tech-tags">
      <span>C Programming</span>
      <span>Binary File Handling</span>
      <span>ID3v2 Protocol</span>
      <span>Byte Manipulation</span>
      <span>Data Structures</span>
      <span>Command Line Tool</span>
      <span>File Format Parsing</span>
      <span>Endianness Handling</span>
      <span>Memory Management</span>
    </div>
    
    <div class="project-links">
      <a href="https://github.com/Krishnavprem/MP3-Tag-Reader" target="_blank" class="github-btn">
        <i class="fab fa-github"></i> View Source Code
      </a>
    </div>
  </section>

  <!-- MP3 FILE STRUCTURE -->
  <section class="section-card">
    <h2>MP3 File Structure</h2>
    
    <div class="mp3-structure">
      <div class="structure-item">üìÅ <strong>MP3 File</strong></div>
      <div class="structure-level">
        <div class="structure-item">üìÑ <strong>ID3v2 Tag (Optional)</strong> - Metadata section</div>
        <div class="structure-level">
          <div class="structure-item">üî§ Header - "ID3" identifier (3 bytes)</div>
          <div class="structure-item">üî¢ Version - ID3v2.x (2 bytes)</div>
          <div class="structure-item">üö© Flags - Header flags (1 byte)</div>
          <div class="structure-item">üìè Size - Tag size (4 bytes, synchsafe)</div>
          <div class="structure-item">üìã Frames - Multiple metadata frames</div>
        </div>
        <div class="structure-item">üéµ <strong>MPEG Audio Frames</strong> - Audio data</div>
      </div>
    </div>
    
    <div class="frame-visual">
      <div class="frame-header">ID3v2.3.0 Frame Structure</div>
      <div class="frame-content">
        <div class="frame-byte">54<span class="byte-label">'T'</span></div>
        <div class="frame-byte">49<span class="byte-label">'I'</span></div>
        <div class="frame-byte">54<span class="byte-label">'T'</span></div>
        <div class="frame-byte">32<span class="byte-label">'2'</span></div>
        <div class="frame-byte">00<span class="byte-label">size[0]</span></div>
        <div class="frame-byte">00<span class="byte-label">size[1]</span></div>
        <div class="frame-byte">00<span class="byte-label">size[2]</span></div>
        <div class="frame-byte">10<span class="byte-label">size[3]</span></div>
        <div class="frame-byte">00<span class="byte-label">flag1</span></div>
        <div class="frame-byte">00<span class="byte-label">flag2</span></div>
        <div class="frame-byte">00<span class="byte-label">enc</span></div>
        <div class="frame-byte">48<span class="byte-label">'H'</span></div>
        <div class="frame-byte">65<span class="byte-label">'e'</span></div>
        <div class="frame-byte">6C<span class="byte-label">'l'</span></div>
        <div class="frame-byte">6C<span class="byte-label">'l'</span></div>
        <div class="frame-byte">6F<span class="byte-label">'o'</span></div>
      </div>
      <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-muted);">
        Frame ID: "TIT2" (Title) | Size: 16 bytes (0x00000010) | Data: "Hello"
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="section-card">
    <h2>Core Features</h2>
    
    <div class="feature-grid">
      <div class="feature-card">
        <h3><i class="fas fa-eye"></i> Metadata Reading</h3>
        <p>Parse and display ID3v2 tags: Title, Artist, Album, Year, Genre, Comments.</p>
      </div>

      <div class="feature-card">
        <h3><i class="fas fa-edit"></i> Safe Editing</h3>
        <p>Edit any tag with validation, working on duplicates to prevent data loss.</p>
      </div>

      <div class="feature-card">
        <h3><i class="fas fa-file-binary"></i> Binary Parsing</h3>
        <p>Direct binary file access with proper byte ordering and synchsafe integer handling.</p>
      </div>

      <div class="feature-card">
        <h3><i class="fas fa-check-circle"></i> Input Validation</h3>
        <p>Validate edits against frame size limits and data format requirements.</p>
      </div>

      <div class="feature-card">
        <h3><i class="fas fa-sync-alt"></i> Endian Conversion</h3>
        <p>Handle big-endian (file) to little-endian (system) conversions for size values.</p>
      </div>

      <div class="feature-card">
        <h3><i class="fas fa-question-circle"></i> Help System</h3>
        <p>Comprehensive command reference and usage examples built-in.</p>
      </div>
    </div>
  </section>

  <!-- COMMAND REFERENCE -->
  <section class="section-card">
    <h2>Command Reference</h2>
    
    <table class="command-table">
      <thead>
        <tr>
          <th>Command</th>
          <th>Description</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>-v</code></td>
          <td>View MP3 metadata</td>
          <td><code>./mp3tag -v song.mp3</code></td>
        </tr>
        <tr>
          <td><code>-e -t</code></td>
          <td>Edit title</td>
          <td><code>./mp3tag -e -t "New Title" song.mp3</code></td>
        </tr>
        <tr>
          <td><code>-e -a</code></td>
          <td>Edit artist</td>
          <td><code>./mp3tag -e -a "Artist Name" song.mp3</code></td>
        </tr>
        <tr>
          <td><code>-e -A</code></td>
          <td>Edit album</td>
          <td><code>./mp3tag -e -A "Album Name" song.mp3</code></td>
        </tr>
        <tr>
          <td><code>-e -y</code></td>
          <td>Edit year</td>
          <td><code>./mp3tag -e -y "2024" song.mp3</code></td>
        </tr>
        <tr>
          <td><code>-e -m</code></td>
          <td>Edit genre</td>
          <td><code>./mp3tag -e -m 17 song.mp3</code> (17=Rock)</td>
        </tr>
        <tr>
          <td><code>-e -c</code></td>
          <td>Edit comments</td>
          <td><code>./mp3tag -e -c "My comment" song.mp3</code></td>
        </tr>
        <tr>
          <td><code>--help</code></td>
          <td>Show help</td>
          <td><code>./mp3tag --help</code></td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- DEMO OUTPUT -->
  <!--  
  <section class="section-card">
    <h2>Sample Output</h2>
    
    <div class="terminal-output">
      <span class="terminal-prompt">$</span> <span class="terminal-command">./a.out -v sample.mp3</span><br><br>
      
      <span class="terminal-output">-----------------------------SELECTED VIEW DETAILS-----------------------------</span><br>
      <span class="terminal-output">------------------------------------------------------------------------------</span><br>
      <span class="terminal-output">                    MP3 TAG READER AND EDITOR FOR ID3v2                        </span><br>
      <span class="terminal-output">------------------------------------------------------------------------------</span><br>
      <span class="terminal-output">Title          : My Favorite Song</span><br>
      <span class="terminal-output">Artist         : John Artist</span><br>
      <span class="terminal-output">Album          : Greatest Hits</span><br>
      <span class="terminal-output">Year           : 2023</span><br>
      <span class="terminal-output">Genre          : Pop</span><br>
      <span class="terminal-output">Comments       : Radio Edit</span><br>
      <span class="terminal-output">------------------------------------------------------------------------------</span><br>
      <span class="terminal-output">---------------------DETAILS DISPLAYED SUCCESSFULLY---------------------------</span><br><br>
      
      <span class="terminal-prompt">$</span> <span class="terminal-command">./a.out -e -t "Updated Title" sample.mp3</span><br><br>
      
      <span class="terminal-output">-----------------------------UPDATED DETAILS-----------------------------</span><br>
      <span class="terminal-output">------------------------------------------------------------------------------</span><br>
      <span class="terminal-output">                    MP3 TAG READER AND EDITOR FOR ID3v2                        </span><br>
      <span class="terminal-output">------------------------------------------------------------------------------</span><br>
      <span class="terminal-output">Title          : Updated Title</span><br>
      <span class="terminal-output">Artist         : John Artist</span><br>
      <span class="terminal-output">Album          : Greatest Hits</span><br>
      <span class="terminal-output">Year           : 2023</span><br>
      <span class="terminal-output">Genre          : Pop</span><br>
      <span class="terminal-output">Comments       : Radio Edit</span><br>
      <span class="terminal-output">------------------------------------------------------------------------------</span><br>
      <span class="terminal-output">---------------------DETAILS DISPLAYED SUCCESSFULLY---------------------------</span>
    </div>
  </section>
-->
  <!-- CODE ARCHITECTURE -->
  <section class="section-card">
    <h2>Code Architecture</h2>
    
    <div class="file-structure">
      <div class="file-item">
        <i class="fas fa-file"></i>
        <span><strong>main.c</strong> - Program entry, CLI parsing, and flow control</span>
      </div>
      <div class="file-item">
        <i class="fas fa-file-code"></i>
        <span><strong>main.h</strong> - Main header with TagInfo structure</span>
      </div>
      <div class="file-item">
        <i class="fas fa-search"></i>
        <span><strong>read.c</strong> - Read and parse ID3v2 metadata</span>
      </div>
      <div class="file-item">
        <i class="fas fa-edit"></i>
        <span><strong>edit.c</strong> - Edit tags with duplicate file safety</span>
      </div>
      <div class="file-item">
        <i class="fas fa-question-circle"></i>
        <span><strong>help.c</strong> - Display help and usage information</span>
      </div>
      <div class="file-item">
        <i class="fas fa-cube"></i>
        <span><strong>types.h</strong> - Custom enums and type definitions</span>
      </div>
    </div>

    <div class="code-preview">
      <span class="code-comment">// Core data structure for storing MP3 metadata</span><br>
      <span class="code-keyword">typedef struct</span> {<br>
      &nbsp;&nbsp;<span class="code-keyword">char</span> title[100];<br>
      &nbsp;&nbsp;<span class="code-keyword">char</span> artist[100];<br>
      &nbsp;&nbsp;<span class="code-keyword">char</span> album[100];<br>
      &nbsp;&nbsp;<span class="code-keyword">char</span> year[10];<br>
      &nbsp;&nbsp;<span class="code-keyword">char</span> comment[100];<br>
      &nbsp;&nbsp;<span class="code-keyword">unsigned char</span> genre;<br>
      &nbsp;&nbsp;FILE *fptr_mp3;<br>
      &nbsp;&nbsp;FILE *dup_mp3;<br>
      &nbsp;&nbsp;<span class="code-keyword">unsigned char</span> version;<br>
      &nbsp;&nbsp;<span class="code-keyword">unsigned char</span> revision;<br>
      &nbsp;&nbsp;<span class="code-keyword">unsigned char</span> flag;<br>
      &nbsp;&nbsp;<span class="code-keyword">unsigned int</span> size;<br>
      } <span class="code-function">TagInfo</span>;
    </div>
  </section>

  <!-- KEY ALGORITHMS -->
  <section class="section-card">
    <h2>Key Algorithms & Techniques</h2>
    
    <div class="feature-grid">
      <div class="feature-card">
        <h3><i class="fas fa-microchip"></i> Synchsafe Integer Parsing</h3>
        <p>Parse ID3v2's unique synchsafe format where MSB of each byte is always 0.</p>
      </div>

      <div class="feature-card">
        <h3><i class="fas fa-exchange-alt"></i> Byte Order Conversion</h3>
        <p>Convert between big-endian (file) and little-endian (system) for multi-byte values.</p>
      </div>

      <div class="feature-card">
        <h3><i class="fas fa-copy"></i> Safe File Operations</h3>
        <p>Work on temporary copies during editing to ensure original file integrity.</p>
      </div>

      <div class="feature-card">
        <h3><i class="fas fa-search"></i> Frame Iteration</h3>
        <p>Iterate through ID3 frames, parse headers, and extract encoded text data.</p>
      </div>
    </div>
    
    <div class="code-preview">
      <span class="code-comment">// Parse ID3v2 synchsafe integer (most significant bit always 0)</span><br>
      tagInfo->size = (size[0] << 21) | (size[1] << 14) | (size[2] << 7) | size[3];<br><br>
      
      <span class="code-comment">// Convert frame size from big-endian to little-endian</span><br>
      frame_size = (size[0] << 24) | (size[1] << 16) | (size[2] << 8) | size[3];<br><br>
      
      <span class="code-comment">// Frame parsing loop - iterate through all frames</span><br>
      <span class="code-keyword">for</span>(<span class="code-keyword">int</span> i = 0; i < 6; i++) {<br>
      &nbsp;&nbsp;<span class="code-keyword">char</span> frame_id[5];<br>
      &nbsp;&nbsp;fread(frame_id, 1, 4, tagInfo->fptr_mp3);<br>
      &nbsp;&nbsp;frame_id[4] = <span class="code-string">'\0'</span>;<br>
      &nbsp;&nbsp;<span class="code-comment">// ... parse size, flags, and data</span><br>
      }
    </div>
  </section>

  <!-- COMPILATION & USAGE -->
  <section class="section-card" id="demo">
    <h2>Compilation & Usage</h2>
    
    <div class="code-preview">
      <span class="code-comment"># Compile all C source files</span><br>
      gcc main.c read.c edit.c help.c -o mp3tag -Wall -Wextra<br><br>
      
      <span class="code-comment"># View metadata of an MP3 file</span><br>
      ./mp3tag -v sample.mp3<br><br>
      
      <span class="code-comment"># Edit the title (creates duplicate for safety)</span><br>
      ./mp3tag -e -t "New Song Title" sample.mp3<br><br>
      
      <span class="code-comment"># Edit multiple fields</span><br>
      ./mp3tag -e -a "New Artist" sample.mp3<br>
      ./mp3tag -e -A "New Album" sample.mp3<br>
      ./mp3tag -e -y "2024" sample.mp3<br><br>
      
      <span class="code-comment"># Show help with all available commands</span><br>
      ./mp3tag --help
    </div>
  </section>

</main>

<script>
  // Interactive elements
  document.addEventListener('DOMContentLoaded', function() {
    // Copy code blocks on click
    const codeBlocks = document.querySelectorAll('.code-preview, .terminal-output');
    codeBlocks.forEach(block => {
      block.addEventListener('click', function() {
        const text = this.innerText;
        navigator.clipboard.writeText(text).then(() => {
          const original = this.innerHTML;
          this.innerHTML = '<i class="fas fa-check"></i> Copied to clipboard!';
          setTimeout(() => {
            this.innerHTML = original;
          }, 2000);
        });
      });
    });
    
    // Highlight frame bytes on hover
    const frameBytes = document.querySelectorAll('.frame-byte');
    frameBytes.forEach(byte => {
      byte.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.1)';
        this.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
        this.style.transition = 'all 0.2s ease';
      });
      
      byte.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1)';
        this.style.boxShadow = 'none';
      });
    });
  });
</script>

</body>
</html>